{"ast":null,"code":"import _classCallCheck from \"G:\\\\Workspace\\\\2018\\\\expense-manager-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\Workspace\\\\2018\\\\expense-manager-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\Workspace\\\\2018\\\\expense-manager-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\Workspace\\\\2018\\\\expense-manager-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\Workspace\\\\2018\\\\expense-manager-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"G:\\\\Workspace\\\\2018\\\\expense-manager-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"G:\\\\Workspace\\\\2018\\\\expense-manager-react\\\\src\\\\components\\\\Loan\\\\EditLoanForm.js\";\nimport React, { Component } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport $ from \"jquery\";\nimport Loader from \"./../Common/Loader\";\nimport * as firebase from \"../../firebase/firebase\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"../Home/styles/form.css\";\n\nvar EditLoanForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditLoanForm, _Component);\n\n  function EditLoanForm(props) {\n    var _this;\n\n    _classCallCheck(this, EditLoanForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditLoanForm).call(this, props));\n    var loan = props.loan;\n    _this.state = {\n      date: moment(loan.value.date),\n      day: moment(loan.value.date).day,\n      amount: loan.value.amount,\n      loanType: loan.value.loanType,\n      person: loan.value.person,\n      reason: loan.value.reason,\n      status: loan.value.status,\n      uid: _this.props.user.uid,\n      dataSaved: false\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handelDateChange = _this.handelDateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EditLoanForm, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n      firebase.db.ref(\"loanTable/\".concat(this.props.user.uid, \"/\").concat(this.props.loan.key)).update({\n        date: this.state.date.format(\"MM/DD/YYYY\"),\n        day: moment(this.state.date.format(\"MM/DD/YYYY\")).day(),\n        amount: this.state.amount,\n        loanType: this.state.loanType,\n        person: this.state.person,\n        reason: this.state.reason,\n        status: this.state.status\n      });\n      $(\"#closePopup\").click();\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      // If you are using babel, you can use ES 6 dictionary syntax { [e.target.name] = e.target.value }\n      var change = {};\n      change[e.target.name] = e.target.value;\n      this.setState(change);\n    }\n  }, {\n    key: \"handelDateChange\",\n    value: function handelDateChange(date) {\n      this.setState({\n        date: date,\n        day: date.day()\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.settings) {\n        var inputNightMode = {\n          background: \"#2c2b2b\",\n          color: \"#a9a0a0\",\n          border: \"1px solid #9b8c8cc7\"\n        };\n        var inputDayMode = {\n          background: \"#fff\",\n          color: \"#495057\"\n        };\n        return React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"col-sm-2 col-xs-6 col-form-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, \"Date\")), React.createElement(\"div\", {\n          className: \"col-sm-10 col-xs-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(DatePicker, {\n          className: \"form-control date \" + (this.props.settings.mode === \"night\" ? \"inputNightMode\" : \"inputDayMode\"),\n          name: \"date\",\n          selected: this.state.date,\n          onChange: this.handelDateChange.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"form-group row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"col-sm-2 col-xs-6 col-form-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Amount\")), React.createElement(\"div\", {\n          className: \"col-sm-10 col-xs-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"form-control\",\n          required: true,\n          type: \"number\",\n          name: \"amount\",\n          onChange: this.handleChange.bind(this),\n          value: this.state.amount,\n          style: this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"form-group row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"col-sm-2 col-xs-6 col-form-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, \"Loan Type\")), React.createElement(\"div\", {\n          className: \"col-sm-10 col-xs-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(\"select\", {\n          className: \"form-control\",\n          name: \"loanType\",\n          value: this.state.loanType,\n          onChange: this.handleChange.bind(this),\n          style: this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"Given\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, \"Given\"), React.createElement(\"option\", {\n          value: \"Taken\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"Taken\")))), React.createElement(\"div\", {\n          className: \"form-group row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"col-sm-2 col-xs-6 col-form-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, \"Person\")), React.createElement(\"div\", {\n          className: \"col-sm-10 col-xs-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"form-control\",\n          required: true,\n          type: \"text\",\n          name: \"person\",\n          onChange: this.handleChange.bind(this),\n          value: this.state.person,\n          style: this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"form-group row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"col-sm-2 col-xs-6 col-form-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"Status\")), React.createElement(\"div\", {\n          className: \"col-sm-10 col-xs-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"select\", {\n          className: \"form-control\",\n          name: \"status\",\n          value: this.state.status,\n          onChange: this.handleChange.bind(this),\n          style: this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"Pending\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"Pending\"), React.createElement(\"option\", {\n          value: \"Settled\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"Settled\")))), React.createElement(\"div\", {\n          className: \"form-group row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"col-sm-2 col-xs-6 col-form-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, \"Reason\")), React.createElement(\"div\", {\n          className: \"col-sm-10 col-xs-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, React.createElement(\"textarea\", {\n          className: \"form-control\",\n          type: \"text\",\n          required: true,\n          name: \"reason\",\n          onChange: this.handleChange.bind(this),\n          value: this.state.reason,\n          style: this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }))), this.state.dataSaved ? React.createElement(\"span\", {\n          className: \"bg-success success-msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, \" You did not update anything\") : React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"btn btn-primary float-right\",\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, \"save\"));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return EditLoanForm;\n}(Component);\n\nexport default EditLoanForm;","map":{"version":3,"sources":["G:\\Workspace\\2018\\expense-manager-react\\src\\components\\Loan\\EditLoanForm.js"],"names":["React","Component","DatePicker","moment","$","Loader","firebase","EditLoanForm","props","loan","state","date","value","day","amount","loanType","person","reason","status","uid","user","dataSaved","handleSubmit","bind","handleChange","handelDateChange","event","preventDefault","db","ref","key","update","format","click","e","change","target","name","setState","settings","inputNightMode","background","color","border","inputDayMode","mode"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport DatePicker from \"react-datepicker\";\r\nimport moment from \"moment\";\r\nimport $ from \"jquery\";\r\n\r\nimport Loader from \"./../Common/Loader\";\r\n\r\nimport * as firebase from \"../../firebase/firebase\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"../Home/styles/form.css\";\r\n\r\nclass EditLoanForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const loan = props.loan;\r\n\r\n        this.state = {\r\n            date: moment(loan.value.date),\r\n            day: moment(loan.value.date).day,\r\n            amount: loan.value.amount,\r\n            loanType: loan.value.loanType,\r\n            person: loan.value.person,\r\n            reason: loan.value.reason,\r\n            status: loan.value.status,\r\n            uid: this.props.user.uid,\r\n            dataSaved: false\r\n        };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handelDateChange = this.handelDateChange.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        firebase.db.ref(`loanTable/${this.props.user.uid}/${this.props.loan.key}`).update({\r\n            date: this.state.date.format(\"MM/DD/YYYY\"),\r\n            day: moment(this.state.date.format(\"MM/DD/YYYY\")).day(),\r\n            amount: this.state.amount,\r\n            loanType: this.state.loanType,\r\n            person: this.state.person,\r\n            reason: this.state.reason,\r\n            status: this.state.status\r\n        });\r\n\r\n        $(\"#closePopup\").click();\r\n    }\r\n\r\n    handleChange(e) {\r\n        // If you are using babel, you can use ES 6 dictionary syntax { [e.target.name] = e.target.value }\r\n        var change = {};\r\n        change[e.target.name] = e.target.value;\r\n        this.setState(change);\r\n    }\r\n\r\n    handelDateChange(date) {\r\n        this.setState({\r\n            date: date,\r\n            day: date.day()\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.props.settings) {\r\n            const inputNightMode = { background: \"#2c2b2b\", color: \"#a9a0a0\", border: \"1px solid #9b8c8cc7\" };\r\n\r\n            const inputDayMode = { background: \"#fff\", color: \"#495057\" };\r\n\r\n            return (\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-xs-6 col-form-label\">\r\n                            <span>Date</span>\r\n                        </label>\r\n                        <div className=\"col-sm-10 col-xs-6\">\r\n                            <DatePicker\r\n                                className={\r\n                                    \"form-control date \" +\r\n                                    (this.props.settings.mode === \"night\" ? \"inputNightMode\" : \"inputDayMode\")\r\n                                }\r\n                                name=\"date\"\r\n                                selected={this.state.date}\r\n                                onChange={this.handelDateChange.bind(this)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-xs-6 col-form-label\">\r\n                            <span>Amount</span>\r\n                        </label>\r\n                        <div className=\"col-sm-10 col-xs-6\">\r\n                            <input\r\n                                className=\"form-control\"\r\n                                required\r\n                                type=\"number\"\r\n                                name=\"amount\"\r\n                                onChange={this.handleChange.bind(this)}\r\n                                value={this.state.amount}\r\n                                style={this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-xs-6 col-form-label\">\r\n                            <span>Loan Type</span>\r\n                        </label>\r\n                        <div className=\"col-sm-10 col-xs-6\">\r\n                            <select\r\n                                className=\"form-control\"\r\n                                name=\"loanType\"\r\n                                value={this.state.loanType}\r\n                                onChange={this.handleChange.bind(this)}\r\n                                style={this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode}\r\n                            >\r\n                                <option value=\"Given\">Given</option>\r\n                                <option value=\"Taken\">Taken</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-xs-6 col-form-label\">\r\n                            <span>Person</span>\r\n                        </label>\r\n                        <div className=\"col-sm-10 col-xs-6\">\r\n                            <input\r\n                                className=\"form-control\"\r\n                                required\r\n                                type=\"text\"\r\n                                name=\"person\"\r\n                                onChange={this.handleChange.bind(this)}\r\n                                value={this.state.person}\r\n                                style={this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-xs-6 col-form-label\">\r\n                            <span>Status</span>\r\n                        </label>\r\n                        <div className=\"col-sm-10 col-xs-6\">\r\n                            <select\r\n                                className=\"form-control\"\r\n                                name=\"status\"\r\n                                value={this.state.status}\r\n                                onChange={this.handleChange.bind(this)}\r\n                                style={this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode}\r\n                            >\r\n                                <option value=\"Pending\">Pending</option>\r\n                                <option value=\"Settled\">Settled</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-xs-6 col-form-label\">\r\n                            <span>Reason</span>\r\n                        </label>\r\n                        <div className=\"col-sm-10 col-xs-6\">\r\n                            <textarea\r\n                                className=\"form-control\"\r\n                                type=\"text\"\r\n                                required\r\n                                name=\"reason\"\r\n                                onChange={this.handleChange.bind(this)}\r\n                                value={this.state.reason}\r\n                                style={this.props.settings.mode === \"night\" ? inputNightMode : inputDayMode}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {this.state.dataSaved ? (\r\n                        <span className=\"bg-success success-msg\"> You did not update anything</span>\r\n                    ) : (\r\n                        <span />\r\n                    )}\r\n                    <button className=\"btn btn-primary float-right\" type=\"submit\">\r\n                        save\r\n                    </button>\r\n                </form>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <Loader />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default EditLoanForm;\r\n"]},"metadata":{},"sourceType":"module"}