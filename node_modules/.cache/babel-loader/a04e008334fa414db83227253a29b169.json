{"ast":null,"code":"import moment from \"moment\";\nexport var eachExpense = function eachExpense(expenses) {\n  return Object.keys(expenses).map(function (key) {\n    return {\n      key: key,\n      value: expenses[key]\n    };\n  }).sort(function (a, b) {\n    // Turn your strings into dates, and then subtract them\n    // to get a value that is either negative, positive, or zero.\n    return new Date(b.value.date) - new Date(a.value.date);\n  });\n};\nexport var currentUsersExpenses = function currentUsersExpenses(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  });\n}; // expenses in selected month and year\n\nexport var expensesinMonthAndYear = function expensesinMonthAndYear(eachExpense, currentUser, selectedMonth, selectedYear) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getFullYear().toString() === selectedYear.toString();\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getMonth().toString() === selectedMonth;\n  });\n}; // expenses in selected year\n\nexport var expensesinSelectedYear = function expensesinSelectedYear(eachExpense, currentUser, selectedYear) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getFullYear().toString() === selectedYear.toString();\n  });\n}; // expenses in a selected date\n\nexport var expensesInDate = function expensesInDate(eachExpense, currentUser, date) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid && elem.value.date === date;\n  });\n}; // expenses in current month\n\nexport var currentMonthExpenses = function currentMonthExpenses(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth() && new Date(elem.value.date).getFullYear() === new Date().getFullYear();\n  });\n}; // expense in current year\n\nexport var expensesinCurrentYear = function expensesinCurrentYear(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getFullYear().toString() === new Date().getFullYear().toString();\n  });\n}; // expenses in a particular month of this year\n\nexport var expensesinMonth = function expensesinMonth(eachExpense, currentUser, MonthNumber, selectedYear) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid;\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getFullYear().toString() === selectedYear.toString();\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getMonth().toString() === MonthNumber;\n  });\n}; // expense today\n\nexport var expensesToday = function expensesToday(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth();\n  }).filter(function (elem) {\n    return new Date(elem.value.date).getDate() === new Date().getDate();\n  });\n}; // expense this week\n\nexport var expensesThisWeek = function expensesThisWeek(eachExpense, currentUser) {\n  return eachExpense.filter(function (elem) {\n    return elem.value.uid === currentUser.uid && moment(elem.value.date, \"MM/DD/YYYY\").week() === moment(moment(new Date()), \"MM/DD/YYYY\").week() && moment(elem.value.date, \"MM/DD/YYYY\").year() === moment(moment(new Date()), \"MM/DD/YYYY\").year();\n  });\n}; // expenses Total\n\nexport var totalExpense = function totalExpense(expenses) {\n  if (expenses.length) {\n    return expenses.map(function (elem) {\n      return Number(elem.value.expense);\n    }).reduce(function (prev, cur) {\n      return prev + cur;\n    });\n  } else {\n    return 0;\n  }\n}; // most spend day\n\nexport var mostSpentDay = function mostSpentDay(expenses) {\n  var monday = 0;\n  var tuesday = 0;\n  var wednesday = 0;\n  var thursday = 0;\n  var friday = 0;\n  var saturday = 0;\n  var sunday = 0;\n  expenses.map(function (elem) {\n    switch (elem.value.day.toString()) {\n      case \"0\":\n        sunday = sunday + 1;\n        return \"\";\n\n      case \"1\":\n        monday = monday + 1;\n        return \"\";\n\n      case \"2\":\n        tuesday = tuesday + 1;\n        return \"\";\n\n      case \"3\":\n        wednesday = wednesday + 1;\n        return \"\";\n\n      case \"4\":\n        thursday = thursday + 1;\n        return \"\";\n\n      case \"5\":\n        friday = friday + 1;\n        return \"\";\n\n      case \"6\":\n        saturday = saturday + 1;\n        return \"\";\n\n      default:\n        return \"\";\n    }\n  });\n  var mostDaysObj = {\n    sunday: sunday,\n    monday: monday,\n    tuesday: tuesday,\n    wednesday: wednesday,\n    thursday: thursday,\n    friday: friday,\n    saturday: saturday\n  };\n  var sortable = [];\n\n  for (var day in mostDaysObj) {\n    sortable.push([day, mostDaysObj[day]]);\n  }\n\n  var sortedCategories = sortable.sort(function (a, b) {\n    return b[1] - a[1];\n  });\n  return {\n    mostSpentDay: expenses.length ? sortedCategories[0][0] : \"-\",\n    leastSpentDay: expenses.length ? sortedCategories[6][0] : \"-\"\n  };\n}; // Total expenses in Each month\n\nexport var totalExpensesInEachMonthOfThisYear = function totalExpensesInEachMonthOfThisYear(expenses, eachExpense, currentUser, selectedYear) {\n  var expensesOfAllMonthsInThisYear = [];\n\n  for (var i = 0; i <= 11; i++) {\n    expensesOfAllMonthsInThisYear.push(totalExpense(expensesinMonth(eachExpense, currentUser, String(i), selectedYear)));\n  }\n\n  return expensesOfAllMonthsInThisYear;\n}; // Total for each category\n\nexport var calculateTotalForAllCategories = function calculateTotalForAllCategories(expenses) {\n  var categories = [\"Food\", \"Automobile\", \"Entertainment\", \"Clothing\", \"Healthcare\", \"Travel\", \"Shopping\", \"Personal Care\", \"Investment\", \"Gifts & Donations\", \"Bills & Utilities\", \"Others\"];\n  var categoryTotal = {\n    Food: 0,\n    Automobile: 0,\n    Entertainment: 0,\n    Clothing: 0,\n    Healthcare: 0,\n    Travel: 0,\n    Shopping: 0,\n    \"Personal Care\": 0,\n    Investment: 0,\n    \"Gifts & Donations\": 0,\n    \"Bills & Utilities\": 0,\n    Others: 0\n  };\n\n  var totalForACategory = function totalForACategory(expenses, category) {\n    var temp = expenses.filter(function (elem) {\n      return elem.value.category === category;\n    }).map(function (el) {\n      return Number(el.value.expense);\n    });\n    var category = category;\n\n    if (temp.length) {\n      return categoryTotal[category] = temp.reduce(function (prev, cur) {\n        return prev + cur;\n      });\n    } else {\n      return categoryTotal[category] = 0;\n    }\n  };\n\n  categories.map(function (category) {\n    return totalForACategory(expenses, category);\n  });\n  return categoryTotal;\n}; // most spent on category\n\nexport var mostSpentCategory = function mostSpentCategory(expenses) {\n  var categoryTotals = calculateTotalForAllCategories(expenses);\n  var sortable = [];\n\n  for (var cat in categoryTotals) {\n    sortable.push([cat, categoryTotals[cat]]);\n  }\n\n  var sortedCategories = sortable.sort(function (a, b) {\n    return b[1] - a[1];\n  });\n  return expenses.length ? sortedCategories[0][0] : \"-\";\n}; // all categories\n\nexport var categories = [\"Food\", \"Automobile\", \"Entertainment\", \"Clothing\", \"Healthcare\", \"Travel\", \"Shopping\", \"Personal Care\", \"Investment\", \"Gifts & Donations\", \"Bills & Utilities\", \"Others\"]; // colors for each category\n\nexport var categoryColors = [\"#FF965D\", \"#FFCC78\", \"#A08E78\", \"#8DA685\", \"#00A3EA\", \"#3EA75E\", \"#16B498\", \"#FF1945\", \"#FF5473\", \"#927959\", \"#7E0332\", \"#872AEF\"]; // retrun border color for each category - daily and monthly view\n\n/*\r\n@method : categoryName\r\n@params : \r\n    cat: category name\r\n    name: name of the component (Basically we're retrieving styles based on category here)\r\n@return : styles based on category for a particular component based on name \r\n*/\n\nexport var categoryName = function categoryName(cat, name) {\n  switch (cat) {\n    case \"Food\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF965D\"\n      } : {\n        borderLeft: \"10px solid #FF965D\"\n      };\n\n    case \"Automobile\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FFCC78\"\n      } : {\n        borderLeft: \"10px solid #FFCC78\"\n      };\n\n    case \"Entertainment\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #A08E78\"\n      } : {\n        borderLeft: \"10px solid #A08E78\"\n      };\n\n    case \"Clothing\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #8DA685\"\n      } : {\n        borderLeft: \"10px solid #8DA685\"\n      };\n\n    case \"Healthcare\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #00A3EA\"\n      } : {\n        borderLeft: \"10px solid #00A3EA\"\n      };\n\n    case \"Travel\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #3EA75E\"\n      } : {\n        borderLeft: \"10px solid #3EA75E\"\n      };\n\n    case \"Shopping\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #16B498\"\n      } : {\n        borderLeft: \"10px solid #16B498\"\n      };\n\n    case \"Personal Care\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF1945\"\n      } : {\n        borderLeft: \"10px solid #FF1945\"\n      };\n\n    case \"Investment\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF5473\"\n      } : {\n        borderLeft: \"10px solid #FF5473\"\n      };\n\n    case \"Gifts & Donations\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #927959\"\n      } : {\n        borderLeft: \"10px solid #927959\"\n      };\n\n    case \"Bills & Utilities\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #7E0332\"\n      } : {\n        borderLeft: \"10px solid #7E0332\"\n      };\n\n    case \"Others\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #872AEF\"\n      } : {\n        borderLeft: \"10px solid #872AEF\"\n      };\n\n    default:\n      return {\n        borderBottom: \"5px solid orange\"\n      };\n  }\n};\nexport var categoryIcon = function categoryIcon(category) {\n  switch (category) {\n    case \"Food\":\n      return \"cutlery\";\n\n    case \"Automobile\":\n      return \"motorcycle\";\n\n    case \"Entertainment\":\n      return \"film\";\n\n    case \"Clothing\":\n      return \"shopping-bag\";\n\n    case \"Healthcare\":\n      return \"medkit\";\n\n    case \"Travel\":\n      return \"plane\";\n\n    case \"Shopping\":\n      return \"shopping-cart\";\n\n    case \"Personal Care\":\n      return \"user-md\";\n\n    case \"Investment\":\n      return \"get-pocket\";\n\n    case \"Gifts & Donations\":\n      return \"gift\";\n\n    case \"Bills & Utilities\":\n      return \"columns\";\n\n    case \"Others\":\n      return \"circle-o\";\n\n    default:\n      return \"bars\";\n  }\n};\nexport var getCatColor = function getCatColor(category) {\n  switch (category) {\n    case \"Food\":\n      return \"#FF965D\";\n\n    case \"Automobile\":\n      return \"#FFCC78\";\n\n    case \"Entertainment\":\n      return \"#A08E78\";\n\n    case \"Clothing\":\n      return \"#8DA685\";\n\n    case \"Healthcare\":\n      return \"#00A3EA\";\n\n    case \"Travel\":\n      return \"#3EA75E\";\n\n    case \"Shopping\":\n      return \"#16B498\";\n\n    case \"Personal Care\":\n      return \"#FF1945\";\n\n    case \"Investment\":\n      return \"#FF5473\";\n\n    case \"Gifts & Donations\":\n      return \"#927959\";\n\n    case \"Bills & Utilities\":\n      return \"#7E0332\";\n\n    case \"Others\":\n      return \"#872AEF\";\n\n    default:\n      return \"#fff\";\n  }\n};\nexport var setCurrencyIcon = function setCurrencyIcon(currency) {\n  switch (currency) {\n    case \"Indian Rupees\":\n      return \"fa-rupee\";\n\n    case \"US Dollars\":\n      return \"fa-dollar\";\n\n    case \"Pounds\":\n      return \"fa-gbp\";\n\n    case \"Yen\":\n      return \"fa-yen\";\n\n    case \"Euro\":\n      return \"fa-euro\";\n\n    default:\n      return \"fa-rupee\";\n  }\n};\nexport var filterExpensesByCriteria = function filterExpensesByCriteria(startDate, endDate, category, expenseFrom, expenseTo, thisUsersExpenses) {\n  var start = new Date(startDate);\n  var end = new Date(endDate);\n  var currentDate = new Date(start);\n  var between = [];\n  var filteredExpenses = [];\n\n  while (currentDate <= end) {\n    between.push(moment(new Date(currentDate)).format(\"MM/DD/YYYY\"));\n    currentDate.setDate(currentDate.getDate() + 1);\n  }\n\n  between.forEach(function (elem) {\n    return thisUsersExpenses.filter(function (el) {\n      return elem === el.value.date ? filteredExpenses.push(el) : \"\";\n    });\n  });\n  filteredExpenses = filteredExpenses.filter(function (elem) {\n    return elem.value.category === category;\n  }).filter(function (elem) {\n    return Number(elem.value.expense) >= Number(expenseFrom) && Number(elem.value.expense) <= Number(expenseTo);\n  });\n  return filteredExpenses;\n}; // Total loan amount that you need to pay or get paid\n\nexport var loanTakenOrGivenAmt = function loanTakenOrGivenAmt(thisUsersLoans, takenOrGiven) {\n  if (thisUsersLoans.length && takenOrGiven) {\n    var loans = thisUsersLoans.filter(function (elem) {\n      return elem.value.loanType === takenOrGiven && elem.value.status === \"Pending\";\n    });\n    return loans.length ? loans.map(function (elem) {\n      return Number(elem.value.amount);\n    }).reduce(function (prev, cur) {\n      return prev + cur;\n    }) : 0;\n  } else {\n    return 0;\n  }\n}; // get all the dates of a particular monthly\n\nexport var getAllTheDatesInAMonth = function getAllTheDatesInAMonth(selectedYear, selectedMonth) {\n  //var date = new Date(), y = date.getFullYear(), m = date.getMonth();\n  var firstDay = new Date(Number(selectedYear), Number(selectedMonth), 1);\n  var lastDay = new Date(Number(selectedYear), Number(selectedMonth) + 1, 0);\n  firstDay = moment(firstDay).format(\"MM/DD/YYYY\");\n  lastDay = moment(lastDay).format(\"MM/DD/YYYY\"); // Returns an array of dates between the two dates\n\n  var getDates = function getDates(startDate, endDate) {\n    var dates = [],\n        currentDate = startDate,\n        addDays = function addDays(days) {\n      var date = new Date(this.valueOf());\n      date.setDate(date.getDate() + days);\n      return date;\n    };\n\n    while (currentDate <= endDate) {\n      dates.push(currentDate);\n      currentDate = addDays.call(currentDate, 1);\n    }\n\n    return dates.map(function (date) {\n      return moment(date).format(\"MM/DD/YYYY\");\n    });\n  }; // Usage\n\n\n  var dates = getDates(new Date(firstDay), new Date(lastDay)); //var datesinSelectedMonth = [];\n  //dates.map(function (date) {\n  //datesinSelectedMonth.push(moment(date).format(\"MM/DD/YYYY\"));\n  //});\n\n  return dates;\n}; // previous 3 and next 3 years\n\nexport var yearsGenereator = function yearsGenereator() {\n  var defaultYears = [];\n  var dateVal = new Date();\n  var currentYear = dateVal.getFullYear();\n  var cutOffYears = 4; // using 5 years as cutoff as per reports cutoffyears to keep inline\n\n  for (var i = currentYear - cutOffYears; i <= currentYear + cutOffYears; i++) {\n    defaultYears.push(i);\n  }\n\n  return defaultYears;\n};","map":{"version":3,"sources":["G:\\Workspace\\2018\\expense-manager-react\\src\\components\\Util.js"],"names":["moment","eachExpense","expenses","Object","keys","map","key","value","sort","a","b","Date","date","currentUsersExpenses","currentUser","filter","elem","uid","expensesinMonthAndYear","selectedMonth","selectedYear","getFullYear","toString","getMonth","expensesinSelectedYear","expensesInDate","currentMonthExpenses","expensesinCurrentYear","expensesinMonth","MonthNumber","expensesToday","getDate","expensesThisWeek","week","year","totalExpense","length","Number","expense","reduce","prev","cur","mostSpentDay","monday","tuesday","wednesday","thursday","friday","saturday","sunday","day","mostDaysObj","sortable","push","sortedCategories","leastSpentDay","totalExpensesInEachMonthOfThisYear","expensesOfAllMonthsInThisYear","i","String","calculateTotalForAllCategories","categories","categoryTotal","Food","Automobile","Entertainment","Clothing","Healthcare","Travel","Shopping","Investment","Others","totalForACategory","category","temp","el","mostSpentCategory","categoryTotals","cat","categoryColors","categoryName","name","borderBottom","borderLeft","categoryIcon","getCatColor","setCurrencyIcon","currency","filterExpensesByCriteria","startDate","endDate","expenseFrom","expenseTo","thisUsersExpenses","start","end","currentDate","between","filteredExpenses","format","setDate","forEach","loanTakenOrGivenAmt","thisUsersLoans","takenOrGiven","loans","loanType","status","amount","getAllTheDatesInAMonth","firstDay","lastDay","getDates","dates","addDays","days","valueOf","call","yearsGenereator","defaultYears","dateVal","currentYear","cutOffYears"],"mappings":"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","sourcesContent":["import moment from \"moment\";\r\n\r\nexport const eachExpense = expenses => {\r\n    return Object.keys(expenses)\r\n        .map(function (key) {\r\n            return { key: key, value: expenses[key] };\r\n        })\r\n        .sort(function (a, b) {\r\n            // Turn your strings into dates, and then subtract them\r\n            // to get a value that is either negative, positive, or zero.\r\n            return new Date(b.value.date) - new Date(a.value.date);\r\n        });\r\n};\r\n\r\nexport const currentUsersExpenses = (eachExpense, currentUser) => {\r\n    return eachExpense.filter(elem => elem.value.uid === currentUser.uid);\r\n};\r\n\r\n// expenses in selected month and year\r\nexport const expensesinMonthAndYear = (eachExpense, currentUser, selectedMonth, selectedYear) => {\r\n    return eachExpense\r\n        .filter(elem => elem.value.uid === currentUser.uid)\r\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString())\r\n        .filter(elem => new Date(elem.value.date).getMonth().toString() === selectedMonth);\r\n};\r\n\r\n// expenses in selected year\r\nexport const expensesinSelectedYear = (eachExpense, currentUser, selectedYear) => {\r\n    return eachExpense\r\n        .filter(elem => elem.value.uid === currentUser.uid)\r\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString());\r\n};\r\n\r\n// expenses in a selected date\r\nexport const expensesInDate = (eachExpense, currentUser, date) => {\r\n    return eachExpense.filter(elem => elem.value.uid === currentUser.uid && elem.value.date === date);\r\n};\r\n\r\n// expenses in current month\r\nexport const currentMonthExpenses = (eachExpense, currentUser) => {\r\n    return eachExpense.filter(\r\n        elem =>\r\n            elem.value.uid === currentUser.uid &&\r\n            new Date(elem.value.date).getMonth() === new Date().getMonth() &&\r\n            new Date(elem.value.date).getFullYear() === new Date().getFullYear()\r\n    );\r\n};\r\n\r\n// expense in current year\r\nexport const expensesinCurrentYear = (eachExpense, currentUser) => {\r\n    return eachExpense\r\n        .filter(elem => elem.value.uid === currentUser.uid)\r\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === new Date().getFullYear().toString());\r\n};\r\n\r\n// expenses in a particular month of this year\r\nexport const expensesinMonth = (eachExpense, currentUser, MonthNumber, selectedYear) => {\r\n    return eachExpense\r\n        .filter(elem => elem.value.uid === currentUser.uid)\r\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString())\r\n        .filter(elem => new Date(elem.value.date).getMonth().toString() === MonthNumber);\r\n};\r\n\r\n// expense today\r\nexport const expensesToday = (eachExpense, currentUser) => {\r\n    return eachExpense\r\n        .filter(\r\n            elem => elem.value.uid === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth()\r\n        )\r\n        .filter(elem => new Date(elem.value.date).getDate() === new Date().getDate());\r\n};\r\n\r\n// expense this week\r\nexport const expensesThisWeek = (eachExpense, currentUser) => {\r\n    return eachExpense.filter(\r\n        elem =>\r\n            elem.value.uid === currentUser.uid &&\r\n            moment(elem.value.date, \"MM/DD/YYYY\").week() === moment(moment(new Date()), \"MM/DD/YYYY\").week() &&\r\n            moment(elem.value.date, \"MM/DD/YYYY\").year() === moment(moment(new Date()), \"MM/DD/YYYY\").year()\r\n    );\r\n};\r\n\r\n// expenses Total\r\nexport const totalExpense = expenses => {\r\n    if (expenses.length) {\r\n        return expenses.map(elem => Number(elem.value.expense)).reduce((prev, cur) => prev + cur);\r\n    } else {\r\n        return 0;\r\n    }\r\n};\r\n\r\n// most spend day\r\nexport const mostSpentDay = expenses => {\r\n    let monday = 0;\r\n    let tuesday = 0;\r\n    let wednesday = 0;\r\n    let thursday = 0;\r\n    let friday = 0;\r\n    let saturday = 0;\r\n    let sunday = 0;\r\n\r\n    expenses.map(elem => {\r\n        switch (elem.value.day.toString()) {\r\n            case \"0\":\r\n                sunday = sunday + 1;\r\n                return \"\";\r\n            case \"1\":\r\n                monday = monday + 1;\r\n                return \"\";\r\n            case \"2\":\r\n                tuesday = tuesday + 1;\r\n                return \"\";\r\n            case \"3\":\r\n                wednesday = wednesday + 1;\r\n                return \"\";\r\n            case \"4\":\r\n                thursday = thursday + 1;\r\n                return \"\";\r\n            case \"5\":\r\n                friday = friday + 1;\r\n                return \"\";\r\n            case \"6\":\r\n                saturday = saturday + 1;\r\n                return \"\";\r\n            default:\r\n                return \"\";\r\n        }\r\n    });\r\n\r\n    let mostDaysObj = {\r\n        sunday: sunday,\r\n        monday: monday,\r\n        tuesday: tuesday,\r\n        wednesday: wednesday,\r\n        thursday: thursday,\r\n        friday: friday,\r\n        saturday: saturday\r\n    };\r\n\r\n    var sortable = [];\r\n    for (var day in mostDaysObj) {\r\n        sortable.push([day, mostDaysObj[day]]);\r\n    }\r\n\r\n    let sortedCategories = sortable.sort(function (a, b) {\r\n        return b[1] - a[1];\r\n    });\r\n\r\n    return {\r\n        mostSpentDay: expenses.length ? sortedCategories[0][0] : \"-\",\r\n        leastSpentDay: expenses.length ? sortedCategories[6][0] : \"-\"\r\n    };\r\n};\r\n\r\n// Total expenses in Each month\r\nexport const totalExpensesInEachMonthOfThisYear = (expenses, eachExpense, currentUser, selectedYear) => {\r\n    let expensesOfAllMonthsInThisYear = [];\r\n\r\n    for (var i = 0; i <= 11; i++) {\r\n        expensesOfAllMonthsInThisYear.push(\r\n            totalExpense(expensesinMonth(eachExpense, currentUser, String(i), selectedYear))\r\n        );\r\n    }\r\n    return expensesOfAllMonthsInThisYear;\r\n};\r\n\r\n// Total for each category\r\nexport const calculateTotalForAllCategories = expenses => {\r\n    const categories = [\r\n        \"Food\",\r\n        \"Automobile\",\r\n        \"Entertainment\",\r\n        \"Clothing\",\r\n        \"Healthcare\",\r\n        \"Travel\",\r\n        \"Shopping\",\r\n        \"Personal Care\",\r\n        \"Investment\",\r\n        \"Gifts & Donations\",\r\n        \"Bills & Utilities\",\r\n        \"Others\"\r\n    ];\r\n\r\n    let categoryTotal = {\r\n        Food: 0,\r\n        Automobile: 0,\r\n        Entertainment: 0,\r\n        Clothing: 0,\r\n        Healthcare: 0,\r\n        Travel: 0,\r\n        Shopping: 0,\r\n        \"Personal Care\": 0,\r\n        Investment: 0,\r\n        \"Gifts & Donations\": 0,\r\n        \"Bills & Utilities\": 0,\r\n        Others: 0\r\n    };\r\n\r\n    const totalForACategory = function (expenses, category) {\r\n        let temp = expenses.filter(elem => elem.value.category === category).map(el => Number(el.value.expense));\r\n\r\n        var category = category;\r\n        if (temp.length) {\r\n            return (categoryTotal[category] = temp.reduce((prev, cur) => prev + cur));\r\n        } else {\r\n            return (categoryTotal[category] = 0);\r\n        }\r\n    };\r\n\r\n    categories.map(category => totalForACategory(expenses, category));\r\n\r\n\r\n    return categoryTotal;\r\n};\r\n\r\n// most spent on category\r\nexport const mostSpentCategory = expenses => {\r\n    let categoryTotals = calculateTotalForAllCategories(expenses);\r\n\r\n    var sortable = [];\r\n    for (var cat in categoryTotals) {\r\n        sortable.push([cat, categoryTotals[cat]]);\r\n    }\r\n\r\n    let sortedCategories = sortable.sort(function (a, b) {\r\n        return b[1] - a[1];\r\n    });\r\n\r\n    return expenses.length ? sortedCategories[0][0] : \"-\";\r\n};\r\n\r\n// all categories\r\nexport const categories = [\r\n    \"Food\",\r\n    \"Automobile\",\r\n    \"Entertainment\",\r\n    \"Clothing\",\r\n    \"Healthcare\",\r\n    \"Travel\",\r\n    \"Shopping\",\r\n    \"Personal Care\",\r\n    \"Investment\",\r\n    \"Gifts & Donations\",\r\n    \"Bills & Utilities\",\r\n    \"Others\"\r\n];\r\n\r\n// colors for each category\r\nexport const categoryColors = [\r\n    \"#FF965D\",\r\n    \"#FFCC78\",\r\n    \"#A08E78\",\r\n    \"#8DA685\",\r\n    \"#00A3EA\",\r\n    \"#3EA75E\",\r\n    \"#16B498\",\r\n    \"#FF1945\",\r\n    \"#FF5473\",\r\n    \"#927959\",\r\n    \"#7E0332\",\r\n    \"#872AEF\"\r\n];\r\n\r\n// retrun border color for each category - daily and monthly view\r\n/*\r\n@method : categoryName\r\n@params : \r\n    cat: category name\r\n    name: name of the component (Basically we're retrieving styles based on category here)\r\n@return : styles based on category for a particular component based on name \r\n*/\r\nexport const categoryName = (cat, name) => {\r\n    switch (cat) {\r\n        case \"Food\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #FF965D\" } : { borderLeft: \"10px solid #FF965D\" };\r\n        case \"Automobile\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #FFCC78\" } : { borderLeft: \"10px solid #FFCC78\" };\r\n        case \"Entertainment\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #A08E78\" } : { borderLeft: \"10px solid #A08E78\" };\r\n        case \"Clothing\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #8DA685\" } : { borderLeft: \"10px solid #8DA685\" };\r\n        case \"Healthcare\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #00A3EA\" } : { borderLeft: \"10px solid #00A3EA\" };\r\n        case \"Travel\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #3EA75E\" } : { borderLeft: \"10px solid #3EA75E\" };\r\n        case \"Shopping\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #16B498\" } : { borderLeft: \"10px solid #16B498\" };\r\n        case \"Personal Care\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #FF1945\" } : { borderLeft: \"10px solid #FF1945\" };\r\n        case \"Investment\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #FF5473\" } : { borderLeft: \"10px solid #FF5473\" };\r\n        case \"Gifts & Donations\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #927959\" } : { borderLeft: \"10px solid #927959\" };\r\n        case \"Bills & Utilities\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #7E0332\" } : { borderLeft: \"10px solid #7E0332\" };\r\n        case \"Others\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #872AEF\" } : { borderLeft: \"10px solid #872AEF\" };\r\n        default:\r\n            return { borderBottom: \"5px solid orange\" };\r\n    }\r\n};\r\n\r\nexport const categoryIcon = category => {\r\n    switch (category) {\r\n        case \"Food\":\r\n            return \"cutlery\";\r\n        case \"Automobile\":\r\n            return \"motorcycle\";\r\n        case \"Entertainment\":\r\n            return \"film\";\r\n        case \"Clothing\":\r\n            return \"shopping-bag\";\r\n        case \"Healthcare\":\r\n            return \"medkit\";\r\n        case \"Travel\":\r\n            return \"plane\";\r\n        case \"Shopping\":\r\n            return \"shopping-cart\";\r\n        case \"Personal Care\":\r\n            return \"user-md\";\r\n        case \"Investment\":\r\n            return \"get-pocket\";\r\n        case \"Gifts & Donations\":\r\n            return \"gift\";\r\n        case \"Bills & Utilities\":\r\n            return \"columns\";\r\n        case \"Others\":\r\n            return \"circle-o\";\r\n        default:\r\n            return \"bars\";\r\n    }\r\n};\r\n\r\nexport const getCatColor = category => {\r\n    switch (category) {\r\n        case \"Food\":\r\n            return \"#FF965D\";\r\n        case \"Automobile\":\r\n            return \"#FFCC78\";\r\n        case \"Entertainment\":\r\n            return \"#A08E78\";\r\n        case \"Clothing\":\r\n            return \"#8DA685\";\r\n        case \"Healthcare\":\r\n            return \"#00A3EA\";\r\n        case \"Travel\":\r\n            return \"#3EA75E\";\r\n        case \"Shopping\":\r\n            return \"#16B498\";\r\n        case \"Personal Care\":\r\n            return \"#FF1945\";\r\n        case \"Investment\":\r\n            return \"#FF5473\";\r\n        case \"Gifts & Donations\":\r\n            return \"#927959\";\r\n        case \"Bills & Utilities\":\r\n            return \"#7E0332\";\r\n        case \"Others\":\r\n            return \"#872AEF\";\r\n        default:\r\n            return \"#fff\";\r\n    }\r\n};\r\n\r\nexport const setCurrencyIcon = currency => {\r\n    switch (currency) {\r\n        case \"Indian Rupees\":\r\n            return \"fa-rupee\";\r\n        case \"US Dollars\":\r\n            return \"fa-dollar\";\r\n        case \"Pounds\":\r\n            return \"fa-gbp\";\r\n        case \"Yen\":\r\n            return \"fa-yen\";\r\n        case \"Euro\":\r\n            return \"fa-euro\";\r\n        default:\r\n            return \"fa-rupee\";\r\n    }\r\n};\r\n\r\nexport const filterExpensesByCriteria = (startDate, endDate, category, expenseFrom, expenseTo, thisUsersExpenses) => {\r\n    var start = new Date(startDate);\r\n    var end = new Date(endDate);\r\n    var currentDate = new Date(start);\r\n    var between = [];\r\n    var filteredExpenses = [];\r\n\r\n    while (currentDate <= end) {\r\n        between.push(moment(new Date(currentDate)).format(\"MM/DD/YYYY\"));\r\n        currentDate.setDate(currentDate.getDate() + 1);\r\n    }\r\n\r\n    between.forEach(function (elem) {\r\n        return thisUsersExpenses.filter(function (el) {\r\n            return elem === el.value.date ? filteredExpenses.push(el) : \"\";\r\n        });\r\n    });\r\n\r\n    filteredExpenses = filteredExpenses\r\n        .filter(elem => {\r\n            return elem.value.category === category;\r\n        })\r\n        .filter(elem => {\r\n            return Number(elem.value.expense) >= Number(expenseFrom) && Number(elem.value.expense) <= Number(expenseTo);\r\n        });\r\n\r\n    return filteredExpenses;\r\n};\r\n\r\n// Total loan amount that you need to pay or get paid\r\nexport const loanTakenOrGivenAmt = (thisUsersLoans, takenOrGiven) => {\r\n    if (thisUsersLoans.length && takenOrGiven) {\r\n        let loans = thisUsersLoans.filter(\r\n            elem => elem.value.loanType === takenOrGiven && elem.value.status === \"Pending\"\r\n        );\r\n\r\n        return loans.length ? loans.map(elem => Number(elem.value.amount)).reduce((prev, cur) => prev + cur) : 0;\r\n    } else {\r\n        return 0;\r\n    }\r\n};\r\n\r\n// get all the dates of a particular monthly\r\n\r\nexport const getAllTheDatesInAMonth = (selectedYear, selectedMonth) => {\r\n    //var date = new Date(), y = date.getFullYear(), m = date.getMonth();\r\n    var firstDay = new Date(Number(selectedYear), Number(selectedMonth), 1);\r\n    var lastDay = new Date(Number(selectedYear), Number(selectedMonth) + 1, 0);\r\n\r\n    firstDay = moment(firstDay).format(\"MM/DD/YYYY\");\r\n    lastDay = moment(lastDay).format(\"MM/DD/YYYY\");\r\n\r\n    // Returns an array of dates between the two dates\r\n    var getDates = function (startDate, endDate) {\r\n        var dates = [],\r\n            currentDate = startDate,\r\n            addDays = function (days) {\r\n                var date = new Date(this.valueOf());\r\n                date.setDate(date.getDate() + days);\r\n                return date;\r\n            };\r\n        while (currentDate <= endDate) {\r\n            dates.push(currentDate);\r\n            currentDate = addDays.call(currentDate, 1);\r\n        }\r\n        return dates.map(date => moment(date).format(\"MM/DD/YYYY\"));\r\n    };\r\n\r\n    // Usage\r\n    var dates = getDates(new Date(firstDay), new Date(lastDay));\r\n    //var datesinSelectedMonth = [];\r\n    //dates.map(function (date) {\r\n    //datesinSelectedMonth.push(moment(date).format(\"MM/DD/YYYY\"));\r\n    //});\r\n\r\n    return dates;\r\n};\r\n\r\n// previous 3 and next 3 years\r\nexport const yearsGenereator = () => {\r\n    var defaultYears = [];\r\n    var dateVal = new Date();\r\n    var currentYear = dateVal.getFullYear();\r\n    var cutOffYears = 4; // using 5 years as cutoff as per reports cutoffyears to keep inline\r\n    for (var i = currentYear - cutOffYears; i <= currentYear + cutOffYears; i++) {\r\n        defaultYears.push(i);\r\n    }\r\n\r\n    return defaultYears;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}